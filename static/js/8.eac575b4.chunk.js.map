{"version":3,"sources":["main/basket/desktop.js","main/basket/desktop-info.js","main/basket/mobile.js","main/basket/mobile-info.js","main/basket/basket.js"],"names":["DesktopBasket","info","useState","status","setStatus","pr","setPr","item","sum","setSum","animation","setAnimation","id","key","dispatch","useDispatch","useEffect","type","put","send","check","db","getFirestore","onSnapshot","doc","docSnap","exists","s","data","title","content","price","image","toFixed","cost","className","src","process","alt","from","onClick","change","onBlur","object","target","value","length","slice","maxLength","pattern","onInput","isNaN","placeholder","onChange","e","Number","toString","setTimeout","remove","memo","DesktopBasketInfo","useSelector","state","local","cash","total","l","n","store","setStore","setCheck","localStorage","getItem","JSON","parse","word","show","setShow","num","setNum","RemoveBasket","basket","filter","p","payload","ChangeBasket","setItem","stringify","map","BasketMobile","loading","MobileBasketInfo","Basket","useMediaQuery","query"],"mappings":"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","file":"static/js/8.eac575b4.chunk.js","sourcesContent":["import {useState,useEffect,memo} from 'react';\r\nimport { getFirestore,doc, onSnapshot } from \"firebase/firestore\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\n\r\nconst DesktopBasket = (info)=> {\r\n  const [status,setStatus] = useState('');\r\n  const [pr,setPr] = useState(0);\r\n  const [sum,setSum] = useState(info.item.item);\r\n  const [animation,setAnimation] = useState('');\r\n  const id = info.item.key;\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch({type:\"LetProduct\",put:0});\r\n    dispatch({type:\"LetTotalItem\",send:0});\r\n  }, [dispatch]);\r\n \r\n  useEffect(()=>{\r\n    // setLazyBlock(true);\r\n    let check = true;\r\n    const db = getFirestore();\r\n    onSnapshot(doc(db,'list',id),(docSnap)=>{\r\n      if(docSnap.exists()) {\r\n        const s = docSnap.data();\r\n        if(check) { \r\n          setStatus({title:s.title,content:s.content,price:s.price,image:s.image,id:s.id});\r\n          setPr((s.price*info.item.item).toFixed(0));\r\n          dispatch({type:\"PutProduct\",put:s.price*info.item.item});\r\n          dispatch({type:\"AddTotalItem\",send:info.item.item});\r\n          // setLazyBlock(false);\r\n        }\r\n      }\r\n      else {\r\n        if(check) { \r\n          setStatus({title:\"404\",content:\"Ничего не найдено\",price:\"0\",image:\"/images/first-aid-alt.svg\"});\r\n          dispatch({type:\"PutProduct\",put:100});\r\n          dispatch({type:\"AddTotalItem\",send:1});\r\n          setPr(100);\r\n          // setLazyBlock(false);\r\n        }\r\n      };\r\n    });\r\n    return () => {\r\n      check=false;\r\n    };\r\n  },[id,dispatch,info.item.item]);\r\n  const cost = status.price;\r\n  // const cost = 100;\r\n  const PlusSum = () => {\r\n    if(sum >= 100) return 0;\r\n    setSum(sum+1);\r\n    setPr(((sum+1)*cost).toFixed(0));\r\n    dispatch({type:\"AddProduct\",put:cost});\r\n    dispatch({type:\"AddTotalItem\",send:1});\r\n    info.change({s:sum+1,id:info.item.id})\r\n  };\r\n  const MinusSum = () => {\r\n    if(sum <= 1) return 0;\r\n    else {\r\n      setSum(sum-1);\r\n      setPr((pr-cost).toFixed(0));\r\n      dispatch({type:\"GetProduct\",put:cost});\r\n      dispatch({type:\"GetTotalItem\",send:1});\r\n      info.change({s:sum-1,id:info.item.id})\r\n    }\r\n  };\r\n  const RemoveItem = () => {\r\n    setTimeout(()=>{\r\n      info.remove(info.item);\r\n      dispatch({type:\"GetProduct\",put:pr});\r\n      dispatch({type:\"GetTotalItem\",send:sum});\r\n    },200)\r\n    setAnimation('animation');\r\n  };\r\n  const maxLengthCheck = (object) => {\r\n    if (object.target.value.length > object.target.maxLength) {\r\n     object.target.value = object.target.value.slice(0, object.target.maxLength)\r\n    }\r\n    const s = isNaN(object.target.value)\r\n    if(s === true) {\r\n      object.target.value = sum;\r\n    }\r\n  };\r\n  const CheckValue = (object) => {\r\n    if(object.target.value.length===0 || object.target.value.slice(0, object.target.maxLength)==='0') {\r\n      setSum(1);\r\n      setPr(cost);\r\n      dispatch({type:'AddProduct',put:cost});\r\n      dispatch({type:'AddTotalItem',send:1});\r\n      info.change({s:1,id:info.item.id})\r\n    }\r\n  }\r\n  return(\r\n        <div className={`backet-p ${animation}`}>\r\n        <div className=\"img-basket-picture\">\r\n            <img className=\"img-backet\" src={process.env.PUBLIC_URL+status.image} alt=\"Panakea 2\" />\r\n        </div>\r\n        <div className=\"id-b\">\r\n          <h1 className=\"id-b-t1\">{info.item.from}</h1>\r\n          <h1 className=\"id-b-t2\">{status.title}</h1>\r\n          <h1 className=\"id-b-t3\">ID: {status.id}</h1>\r\n        </div>\r\n        <div className=\"quantity-block\">\r\n            <div className=\"quantity\">\r\n                <button onClick={MinusSum} className=\"but\">-</button>\r\n                <div className=\"but-quantity-block\">\r\n                    <input onBlur={CheckValue} pattern='[0-9]{2}' onInput={maxLengthCheck} maxLength=\"2\" type=\"tel\" placeholder={sum} onChange={(e)=>{setPr((e.target.value*cost).toFixed(0));setSum(e.target.value*1);dispatch({type:'GetProduct',put:pr});dispatch({type:'AddProduct',put:e.target.value*cost});dispatch({type:'GetTotalItem',send:sum});dispatch({type:'AddTotalItem',send:(e.target.value*1)});info.change({s:(e.target.value*1),id:info.item.id})}} value={Number(sum).toString()} className=\"but-quantity\" />\r\n                </div>\r\n                <button onClick={PlusSum} className=\"but-p\">+</button>\r\n            </div>\r\n        </div>\r\n        <div className=\"priceb\">\r\n          <h1 className=\"price-backet\">{pr} ₸</h1>\r\n          <button className=\"add\">Добавить в избранное</button>\r\n          <button onClick={RemoveItem} className=\"delete\">Удалить из корзины</button>\r\n        </div>\r\n      </div>\r\n  );\r\n};\r\n\r\nexport default memo(DesktopBasket);","import DesktopBasket from \"./desktop\";\r\nimport { useState,useEffect,memo} from \"react\";\r\nimport { useDispatch,useSelector } from \"react-redux\";\r\n\r\nconst DesktopBasketInfo = () => {\r\n    const dispatch = useDispatch();\r\n    const item = useSelector(state => state.item);\r\n    const local = useSelector(state=> state.cash);\r\n    const total = useSelector(state=> state.total);\r\n    const [store,setStore] = useState({l:[],n:0});\r\n    const [check,setCheck] = useState('');\r\n    useEffect(()=>{\r\n      if(localStorage.getItem('basket-info')) {\r\n        setStore({l:JSON.parse(localStorage.getItem('basket-info')),n:JSON.parse(localStorage.getItem('basket-info')).length})\r\n      }\r\n    },[])\r\n    const [show,setShow] = useState(store.l);\r\n    const [num,setNum] = useState(store.n);\r\n    const RemoveBasket = (basket) => {\r\n        setShow(show.filter(p=>p.id !==basket.id));\r\n        setNum(num-1);\r\n        setCheck('yes');\r\n        dispatch({type:\"Minus_Local\",payload:1});\r\n      };\r\n    const ChangeBasket = (basket) => {\r\n      let s = JSON.parse(localStorage.getItem('basket-info'));\r\n      s[basket.id].item = basket.s;\r\n      localStorage.setItem('basket-info',JSON.stringify(s));\r\n    };\r\n    useEffect(()=>{\r\n        setShow(store.l);\r\n    },[store.l]);\r\n    useEffect(() => {\r\n        if(check==='yes') localStorage.setItem('basket-info',JSON.stringify(show));\r\n    }, [check,show]);\r\n    let word;\r\n    switch(local) {\r\n      case 1: word='товар';break;\r\n      default: word='товара';break;\r\n    }\r\n    return(\r\n        <div className=\"m\">\r\n        <div className=\"b-backet\">\r\n        <h1 className=\"u-backet\">Ваша корзина</h1>\r\n        <h1 className=\"product-b\">У вас в корзине {local} {word}</h1>\r\n        <div className=\"grid-backet\">\r\n            {localStorage.getItem('basket-info')?show.map(basket=><DesktopBasket change={ChangeBasket} remove={RemoveBasket} item={basket} key={basket.id}/>):\"\"}\r\n        </div>\r\n        {local?<div className=\"payment\">\r\n            <div className=\"payment-block\">\r\n                <div className=\"payment-flex\">\r\n                <div className=\"price-payment-0\">\r\n                <h1 className=\"result\" id=\"that\">Итог заказа</h1>\r\n                <h1 className=\"quantity-payment\">{local} {word} - {total} шт.</h1>\r\n                </div>\r\n                <div className=\"price-payment-1\">\r\n                <h1 className=\"price-payment\">{item} ₸</h1>\r\n                </div>\r\n                </div>\r\n                <button className=\"pay\">Продолжить</button>\r\n            </div>\r\n        </div>:\"\"}\r\n      </div>\r\n    </div>\r\n    );\r\n};\r\n\r\nexport default memo(DesktopBasketInfo);","import { useState,useEffect,memo } from \"react\";\r\nimport { getFirestore,doc, onSnapshot } from \"firebase/firestore\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nconst BasketMobile = (info) => {\r\n  const [status,setStatus] = useState('');\r\n  const [pr,setPr] = useState(0);\r\n  const [sum,setSum] = useState(info.item.item);\r\n  const [animation,setAnimation] = useState('');\r\n  const id = info.item.key;\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch({type:\"LetProduct\",put:0});\r\n    dispatch({type:\"LetTotalItem\",send:0});\r\n  }, [dispatch]);\r\n \r\n  useEffect(()=>{\r\n    // setLazyBlock(true);\r\n    let check = true;\r\n    const db = getFirestore();\r\n    onSnapshot(doc(db,'list',id),(docSnap)=>{\r\n      if(docSnap.exists()) {\r\n        const s = docSnap.data();\r\n        if(check) { \r\n          setStatus({title:s.title,content:s.content,price:s.price,image:s.image,id:s.id});\r\n          setPr((s.price*info.item.item).toFixed(0));\r\n          dispatch({type:\"PutProduct\",put:s.price*info.item.item});\r\n          dispatch({type:\"AddTotalItem\",send:info.item.item});\r\n          // setLazyBlock(false);\r\n        }\r\n      }\r\n      else {\r\n        if(check) { \r\n          setStatus({title:\"404\",content:\"Ничего не найдено\",price:\"0\",image:\"/images/first-aid-alt.svg\"});\r\n          dispatch({type:\"PutProduct\",put:100});\r\n          dispatch({type:\"AddTotalItem\",send:1});\r\n          setPr(100);\r\n          // setLazyBlock(false);\r\n        }\r\n      };\r\n    });\r\n    return () => {\r\n      check=false;\r\n    };\r\n  },[id,dispatch,info.item.item]);\r\n  const cost = status.price;\r\n  // const cost = 100;\r\n  const PlusSum = () => {\r\n    if(sum >= 100) return 0;\r\n    setSum(sum+1);\r\n    setPr(((sum+1)*cost).toFixed(0));\r\n    dispatch({type:\"AddProduct\",put:cost});\r\n    dispatch({type:\"AddTotalItem\",send:1});\r\n    info.change({s:sum+1,id:info.item.id})\r\n  };\r\n  const MinusSum = () => {\r\n    if(sum <= 1) return 0;\r\n    else {\r\n      setSum(sum-1);\r\n      setPr((pr-cost).toFixed(0));\r\n      dispatch({type:\"GetProduct\",put:cost});\r\n      dispatch({type:\"GetTotalItem\",send:1});\r\n      info.change({s:sum-1,id:info.item.id})\r\n    }\r\n  };\r\n  const RemoveItem = () => {\r\n    setTimeout(()=>{\r\n      info.remove(info.item);\r\n      dispatch({type:\"GetProduct\",put:pr});\r\n      dispatch({type:\"GetTotalItem\",send:sum});\r\n    },200)\r\n    setAnimation('animation');\r\n  };\r\n  const maxLengthCheck = (object) => {\r\n    if (object.target.value.length > object.target.maxLength) {\r\n     object.target.value = object.target.value.slice(0, object.target.maxLength)\r\n    }\r\n    const s = isNaN(object.target.value)\r\n    if(s === true) {\r\n      object.target.value = sum;\r\n    }\r\n  };\r\n  const CheckValue = (object) => {\r\n    if(object.target.value.length===0 || object.target.value.slice(0, object.target.maxLength)==='0') {\r\n      setSum(1);\r\n      setPr(cost);\r\n      dispatch({type:'AddProduct',put:cost});\r\n      dispatch({type:'AddTotalItem',send:1});\r\n      info.change({s:1,id:info.item.id})\r\n    }\r\n  }\r\n    return(\r\n          <div className={`main-of-main ${animation}`}>\r\n            <div className=\"block-one-img-and-glakso\">\r\n              <div className=\"img-and-glakso\">\r\n                <div className=\"img-and-place\">\r\n                  <div className=\"relative-and-absolute\">\r\n                    <img className=\"img-size\" src={process.env.PUBLIC_URL+status.image} alt=\"Panakea images\" loading=\"lazy\" />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"leader-text\">\r\n                <div className=\"place-glakso\">\r\n                  <h1 className=\"glakso-text-green\">{info.item.from}</h1>\r\n                </div>\r\n                <div className=\"place-furak\">\r\n                  <h1 className=\"furak-text\">{status.title}</h1>\r\n                </div>\r\n                <div className=\"place-furak\">\r\n                  <h1 className=\"id-text\">ID: {status.id}</h1>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"w\">\r\n              <div className=\"we\">\r\n                <div className=\"place-scary-turn-off\">\r\n                  <div className=\"scary-turn-off\">\r\n                    <button type=\"button\" onClick={MinusSum} className=\"button-minus\">-</button>\r\n                    <div className=\"one-block\">\r\n                        <input onBlur={CheckValue} pattern='[0-9]{2}' onInput={maxLengthCheck} maxLength=\"2\" type=\"tel\" placeholder={sum} onChange={(e)=>{setPr((e.target.value*cost).toFixed(0));setSum(e.target.value*1);dispatch({type:'GetProduct',put:pr});dispatch({type:'AddProduct',put:e.target.value*cost});dispatch({type:'GetTotalItem',send:sum});dispatch({type:'AddTotalItem',send:(e.target.value*1)});info.change({s:(e.target.value*1),id:info.item.id})}} value={Number(sum).toString()} className=\"but-quantity\" />\r\n                    </div>\r\n                    <button type=\"button\" onClick={PlusSum} className=\"button-plus\">+</button>\r\n                  </div>\r\n                </div>\r\n                <div className=\"place-price\">\r\n                  <h1 className=\"price\">{pr} ₸</h1>\r\n                </div>\r\n              </div>\r\n              <div className=\"grid\">\r\n                <div className=\"place-favorite\">\r\n                  <button className=\"favorite\">Добавить в избранное</button>\r\n                </div>\r\n                <div className=\"del-from-favorite\">\r\n                  <button onClick={RemoveItem} className=\"unfavorite\">Удалить из корзины</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n    );\r\n};\r\n\r\nexport default memo(BasketMobile);","import BasketMobile from \"./mobile\";\r\nimport { useState,useEffect } from \"react\";\r\nimport { useDispatch,useSelector } from \"react-redux\";\r\n\r\nconst MobileBasketInfo = () => {\r\n  const dispatch = useDispatch();\r\n  const item = useSelector(state => state.item);\r\n  const local = useSelector(state=> state.cash);\r\n  const total = useSelector(state=> state.total);\r\n  const [store,setStore] = useState({l:[],n:0});\r\n  const [check,setCheck] = useState('');\r\n  useEffect(()=>{\r\n    if(localStorage.getItem('basket-info')) {\r\n      setStore({l:JSON.parse(localStorage.getItem('basket-info')),n:JSON.parse(localStorage.getItem('basket-info')).length})\r\n    }\r\n  },[])\r\n  const [show,setShow] = useState(store.l);\r\n  const [num,setNum] = useState(store.n);\r\n  const ChangeBasket = (basket) => {\r\n    let s = JSON.parse(localStorage.getItem('basket-info'));\r\n    s[basket.id].item = basket.s;\r\n    localStorage.setItem('basket-info',JSON.stringify(s));\r\n  };\r\n  const RemoveBasket = (basket) => {\r\n      setShow(show.filter(p=>p.id !==basket.id));\r\n      setNum(num-1);\r\n      setCheck('yes');\r\n      dispatch({type:\"Minus_Local\",payload:1});\r\n    };\r\n  useEffect(()=>{\r\n      setShow(store.l);\r\n  },[store.l]);\r\n  useEffect(() => {\r\n      if(check==='yes') localStorage.setItem('basket-info',JSON.stringify(show));\r\n  }, [check,show]);\r\n  let word;\r\n  switch(local) {\r\n    case 1: word='товар';break;\r\n    default: word='товара';break;\r\n  }\r\n    return(\r\n        <div className=\"main-block-your-basket\">\r\n            <h1 className=\"m-p\">Ваша корзина</h1>\r\n          <h1 className=\"m-p-content\">У вас в корзине {local} товара</h1>\r\n        <div className=\"your-text-block-place\">\r\n            {localStorage.getItem('basket-info')?show.map(basket=><BasketMobile change={ChangeBasket} remove={RemoveBasket} item={basket} key={basket.id}/>):\"\"}\r\n          {local?<div>\r\n          <div className=\"size-block\">\r\n              <div className=\"order-block\">\r\n                <div className=\"place-order\">\r\n                  <h1 className=\"order-name\">Итог заказа</h1>\r\n                  <h1 className=\"two-items\">{local} {word} - {total} шт.</h1>\r\n                </div>\r\n              </div>\r\n              <div className=\"price-place-im-tired\">\r\n                <h1 className=\"money\">{item} ₸</h1>\r\n              </div>\r\n            </div>\r\n            <button className=\"pay-for-it\">Продолжить</button>\r\n          </div>:\"\"}\r\n        </div>\r\n      </div>\r\n    );\r\n};\r\n\r\nexport default MobileBasketInfo;","import { useMediaQuery } from \"react-responsive\";\r\nimport DesktopBasketInfo from \"./desktop-info\";\r\nimport MobileBasketInfo from \"./mobile-info\";\r\n\r\nconst Basket = () => {\r\n    const mobile = useMediaQuery({ query: `(max-width: 480px)` });\r\n    return(\r\n        mobile ? <MobileBasketInfo/> : <DesktopBasketInfo/>\r\n    );\r\n};\r\n\r\nexport default Basket;"],"sourceRoot":""}