(this.webpackJsonppanakea=this.webpackJsonppanakea||[]).push([[8],{78:function(e,t,c){"use strict";c.r(t);var a=c(35),s=c(12),i=c(4),n=c(17),l=c(20),r=c(2),d=function(e){var t=Object(i.useState)(""),c=Object(s.a)(t,2),a=c[0],d=c[1],o=Object(i.useState)(0),u=Object(s.a)(o,2),j=u[0],m=u[1],b=Object(i.useState)(e.item.item),O=Object(s.a)(b,2),p=O[0],h=O[1],f=Object(i.useState)(""),g=Object(s.a)(f,2),x=g[0],v=g[1],N=e.item.key,y=Object(l.b)();Object(i.useEffect)((function(){y({type:"LetProduct",put:0}),y({type:"LetTotalItem",send:0})}),[y]),Object(i.useEffect)((function(){var t=!0,c=Object(n.f)();return Object(n.h)(Object(n.c)(c,"list",N),(function(c){if(c.exists()){var a=c.data();t&&(d({title:a.title,content:a.content,price:a.price,image:a.image,id:a.id}),m((a.price*e.item.item).toFixed(0)),y({type:"PutProduct",put:a.price*e.item.item}),y({type:"AddTotalItem",send:e.item.item}))}else t&&(d({title:"404",content:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",price:"0",image:"/images/first-aid-alt.svg"}),y({type:"PutProduct",put:100}),y({type:"AddTotalItem",send:1}),m(100))})),function(){t=!1}}),[N,y,e.item.item]);var k=a.price;return Object(r.jsxs)("div",{className:"backet-p ".concat(x),children:[Object(r.jsx)("div",{className:"img-basket-picture",children:Object(r.jsx)("img",{className:"img-backet",src:"/view"+a.image,alt:"Panakea 2"})}),Object(r.jsxs)("div",{className:"id-b",children:[Object(r.jsx)("h1",{className:"id-b-t1",children:e.item.from}),Object(r.jsx)("h1",{className:"id-b-t2",children:a.title}),Object(r.jsxs)("h1",{className:"id-b-t3",children:["ID: ",a.id]})]}),Object(r.jsx)("div",{className:"quantity-block",children:Object(r.jsxs)("div",{className:"quantity",children:[Object(r.jsx)("button",{onClick:function(){if(p<=1)return 0;h(p-1),m((j-k).toFixed(0)),y({type:"GetProduct",put:k}),y({type:"GetTotalItem",send:1}),e.change({s:p-1,id:e.item.id})},className:"but",children:"-"}),Object(r.jsx)("div",{className:"but-quantity-block",children:Object(r.jsx)("input",{onBlur:function(t){0!==t.target.value.length&&"0"!==t.target.value.slice(0,t.target.maxLength)||(h(1),m(k),y({type:"AddProduct",put:k}),y({type:"AddTotalItem",send:1}),e.change({s:1,id:e.item.id}))},pattern:"[0-9]{2}",onInput:function(e){e.target.value.length>e.target.maxLength&&(e.target.value=e.target.value.slice(0,e.target.maxLength)),!0===isNaN(e.target.value)&&(e.target.value=p)},maxLength:"2",type:"tel",placeholder:p,onChange:function(t){m((t.target.value*k).toFixed(0)),h(1*t.target.value),y({type:"GetProduct",put:j}),y({type:"AddProduct",put:t.target.value*k}),y({type:"GetTotalItem",send:p}),y({type:"AddTotalItem",send:1*t.target.value}),e.change({s:1*t.target.value,id:e.item.id})},value:Number(p).toString(),className:"but-quantity"})}),Object(r.jsx)("button",{onClick:function(){if(p>=100)return 0;h(p+1),m(((p+1)*k).toFixed(0)),y({type:"AddProduct",put:k}),y({type:"AddTotalItem",send:1}),e.change({s:p+1,id:e.item.id})},className:"but-p",children:"+"})]})}),Object(r.jsxs)("div",{className:"priceb",children:[Object(r.jsxs)("h1",{className:"price-backet",children:[j," \u20b8"]}),Object(r.jsx)("button",{className:"add",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"}),Object(r.jsx)("button",{onClick:function(){setTimeout((function(){e.remove(e.item),y({type:"GetProduct",put:j}),y({type:"GetTotalItem",send:p})}),200),v("animation")},className:"delete",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u043a\u043e\u0440\u0437\u0438\u043d\u044b"})]})]})},o=Object(i.memo)(d),u=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.item})),c=Object(l.c)((function(e){return e.cash})),a=Object(l.c)((function(e){return e.total})),n=Object(i.useState)({l:[],n:0}),d=Object(s.a)(n,2),u=d[0],j=d[1],m=Object(i.useState)(""),b=Object(s.a)(m,2),O=b[0],p=b[1];Object(i.useEffect)((function(){localStorage.getItem("basket-info")&&j({l:JSON.parse(localStorage.getItem("basket-info")),n:JSON.parse(localStorage.getItem("basket-info")).length})}),[]);var h,f=Object(i.useState)(u.l),g=Object(s.a)(f,2),x=g[0],v=g[1],N=Object(i.useState)(u.n),y=Object(s.a)(N,2),k=y[0],S=y[1],I=function(t){v(x.filter((function(e){return e.id!==t.id}))),S(k-1),p("yes"),e({type:"Minus_Local",payload:1})},P=function(e){var t=JSON.parse(localStorage.getItem("basket-info"));t[e.id].item=e.s,localStorage.setItem("basket-info",JSON.stringify(t))};if(Object(i.useEffect)((function(){v(u.l)}),[u.l]),Object(i.useEffect)((function(){"yes"===O&&localStorage.setItem("basket-info",JSON.stringify(x))}),[O,x]),1===c)h="\u0442\u043e\u0432\u0430\u0440";else h="\u0442\u043e\u0432\u0430\u0440\u0430";return Object(r.jsx)("div",{className:"m",children:Object(r.jsxs)("div",{className:"b-backet",children:[Object(r.jsx)("h1",{className:"u-backet",children:"\u0412\u0430\u0448\u0430 \u043a\u043e\u0440\u0437\u0438\u043d\u0430"}),Object(r.jsxs)("h1",{className:"product-b",children:["\u0423 \u0432\u0430\u0441 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0435 ",c," ",h]}),Object(r.jsx)("div",{className:"grid-backet",children:localStorage.getItem("basket-info")?x.map((function(e){return Object(r.jsx)(o,{change:P,remove:I,item:e},e.id)})):""}),c?Object(r.jsx)("div",{className:"payment",children:Object(r.jsxs)("div",{className:"payment-block",children:[Object(r.jsxs)("div",{className:"payment-flex",children:[Object(r.jsxs)("div",{className:"price-payment-0",children:[Object(r.jsx)("h1",{className:"result",id:"that",children:"\u0418\u0442\u043e\u0433 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(r.jsxs)("h1",{className:"quantity-payment",children:[c," ",h," - ",a," \u0448\u0442."]})]}),Object(r.jsx)("div",{className:"price-payment-1",children:Object(r.jsxs)("h1",{className:"price-payment",children:[t," \u20b8"]})})]}),Object(r.jsx)("button",{className:"pay",children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"})]})}):""]})})},j=Object(i.memo)(u),m=function(e){var t=Object(i.useState)(""),c=Object(s.a)(t,2),a=c[0],d=c[1],o=Object(i.useState)(0),u=Object(s.a)(o,2),j=u[0],m=u[1],b=Object(i.useState)(e.item.item),O=Object(s.a)(b,2),p=O[0],h=O[1],f=Object(i.useState)(""),g=Object(s.a)(f,2),x=g[0],v=g[1],N=e.item.key,y=Object(l.b)();Object(i.useEffect)((function(){y({type:"LetProduct",put:0}),y({type:"LetTotalItem",send:0})}),[y]),Object(i.useEffect)((function(){var t=!0,c=Object(n.f)();return Object(n.h)(Object(n.c)(c,"list",N),(function(c){if(c.exists()){var a=c.data();t&&(d({title:a.title,content:a.content,price:a.price,image:a.image,id:a.id}),m((a.price*e.item.item).toFixed(0)),y({type:"PutProduct",put:a.price*e.item.item}),y({type:"AddTotalItem",send:e.item.item}))}else t&&(d({title:"404",content:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",price:"0",image:"/images/first-aid-alt.svg"}),y({type:"PutProduct",put:100}),y({type:"AddTotalItem",send:1}),m(100))})),function(){t=!1}}),[N,y,e.item.item]);var k=a.price;return Object(r.jsxs)("div",{className:"main-of-main ".concat(x),children:[Object(r.jsxs)("div",{className:"block-one-img-and-glakso",children:[Object(r.jsx)("div",{className:"img-and-glakso",children:Object(r.jsx)("div",{className:"img-and-place",children:Object(r.jsx)("div",{className:"relative-and-absolute",children:Object(r.jsx)("img",{className:"img-size",src:"/view"+a.image,alt:"Panakea images",loading:"lazy"})})})}),Object(r.jsxs)("div",{className:"leader-text",children:[Object(r.jsx)("div",{className:"place-glakso",children:Object(r.jsx)("h1",{className:"glakso-text-green",children:e.item.from})}),Object(r.jsx)("div",{className:"place-furak",children:Object(r.jsx)("h1",{className:"furak-text",children:a.title})}),Object(r.jsx)("div",{className:"place-furak",children:Object(r.jsxs)("h1",{className:"id-text",children:["ID: ",a.id]})})]})]}),Object(r.jsxs)("div",{className:"w",children:[Object(r.jsxs)("div",{className:"we",children:[Object(r.jsx)("div",{className:"place-scary-turn-off",children:Object(r.jsxs)("div",{className:"scary-turn-off",children:[Object(r.jsx)("button",{type:"button",onClick:function(){if(p<=1)return 0;h(p-1),m((j-k).toFixed(0)),y({type:"GetProduct",put:k}),y({type:"GetTotalItem",send:1}),e.change({s:p-1,id:e.item.id})},className:"button-minus",children:"-"}),Object(r.jsx)("div",{className:"one-block",children:Object(r.jsx)("input",{onBlur:function(t){0!==t.target.value.length&&"0"!==t.target.value.slice(0,t.target.maxLength)||(h(1),m(k),y({type:"AddProduct",put:k}),y({type:"AddTotalItem",send:1}),e.change({s:1,id:e.item.id}))},pattern:"[0-9]{2}",onInput:function(e){e.target.value.length>e.target.maxLength&&(e.target.value=e.target.value.slice(0,e.target.maxLength)),!0===isNaN(e.target.value)&&(e.target.value=p)},maxLength:"2",type:"tel",placeholder:p,onChange:function(t){m((t.target.value*k).toFixed(0)),h(1*t.target.value),y({type:"GetProduct",put:j}),y({type:"AddProduct",put:t.target.value*k}),y({type:"GetTotalItem",send:p}),y({type:"AddTotalItem",send:1*t.target.value}),e.change({s:1*t.target.value,id:e.item.id})},value:Number(p).toString(),className:"but-quantity"})}),Object(r.jsx)("button",{type:"button",onClick:function(){if(p>=100)return 0;h(p+1),m(((p+1)*k).toFixed(0)),y({type:"AddProduct",put:k}),y({type:"AddTotalItem",send:1}),e.change({s:p+1,id:e.item.id})},className:"button-plus",children:"+"})]})}),Object(r.jsx)("div",{className:"place-price",children:Object(r.jsxs)("h1",{className:"price",children:[j," \u20b8"]})})]}),Object(r.jsxs)("div",{className:"grid",children:[Object(r.jsx)("div",{className:"place-favorite",children:Object(r.jsx)("button",{className:"favorite",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"})}),Object(r.jsx)("div",{className:"del-from-favorite",children:Object(r.jsx)("button",{onClick:function(){setTimeout((function(){e.remove(e.item),y({type:"GetProduct",put:j}),y({type:"GetTotalItem",send:p})}),200),v("animation")},className:"unfavorite",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u043a\u043e\u0440\u0437\u0438\u043d\u044b"})})]})]})]})},b=Object(i.memo)(m),O=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.item})),c=Object(l.c)((function(e){return e.cash})),a=Object(l.c)((function(e){return e.total})),n=Object(i.useState)({l:[],n:0}),d=Object(s.a)(n,2),o=d[0],u=d[1],j=Object(i.useState)(""),m=Object(s.a)(j,2),O=m[0],p=m[1];Object(i.useEffect)((function(){localStorage.getItem("basket-info")&&u({l:JSON.parse(localStorage.getItem("basket-info")),n:JSON.parse(localStorage.getItem("basket-info")).length})}),[]);var h,f=Object(i.useState)(o.l),g=Object(s.a)(f,2),x=g[0],v=g[1],N=Object(i.useState)(o.n),y=Object(s.a)(N,2),k=y[0],S=y[1],I=function(e){var t=JSON.parse(localStorage.getItem("basket-info"));t[e.id].item=e.s,localStorage.setItem("basket-info",JSON.stringify(t))},P=function(t){v(x.filter((function(e){return e.id!==t.id}))),S(k-1),p("yes"),e({type:"Minus_Local",payload:1})};if(Object(i.useEffect)((function(){v(o.l)}),[o.l]),Object(i.useEffect)((function(){"yes"===O&&localStorage.setItem("basket-info",JSON.stringify(x))}),[O,x]),1===c)h="\u0442\u043e\u0432\u0430\u0440";else h="\u0442\u043e\u0432\u0430\u0440\u0430";return Object(r.jsxs)("div",{className:"main-block-your-basket",children:[Object(r.jsx)("h1",{className:"m-p",children:"\u0412\u0430\u0448\u0430 \u043a\u043e\u0440\u0437\u0438\u043d\u0430"}),Object(r.jsxs)("h1",{className:"m-p-content",children:["\u0423 \u0432\u0430\u0441 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0435 ",c," \u0442\u043e\u0432\u0430\u0440\u0430"]}),Object(r.jsxs)("div",{className:"your-text-block-place",children:[localStorage.getItem("basket-info")?x.map((function(e){return Object(r.jsx)(b,{change:I,remove:P,item:e},e.id)})):"",c?Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"size-block",children:[Object(r.jsx)("div",{className:"order-block",children:Object(r.jsxs)("div",{className:"place-order",children:[Object(r.jsx)("h1",{className:"order-name",children:"\u0418\u0442\u043e\u0433 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(r.jsxs)("h1",{className:"two-items",children:[c," ",h," - ",a," \u0448\u0442."]})]})}),Object(r.jsx)("div",{className:"price-place-im-tired",children:Object(r.jsxs)("h1",{className:"money",children:[t," \u20b8"]})})]}),Object(r.jsx)("button",{className:"pay-for-it",children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"})]}):""]})]})};t.default=function(){return Object(a.useMediaQuery)({query:"(max-width: 480px)"})?Object(r.jsx)(O,{}):Object(r.jsx)(j,{})}}}]);
//# sourceMappingURL=8.eac575b4.chunk.js.map